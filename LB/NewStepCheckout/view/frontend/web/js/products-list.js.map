{"version":3,"sources":["../ts/js/products-list.ts"],"names":["ProductsList","productsSection","observableArray","template","defaultProcessor","fetchProducts","then","populateProducts","getInstance","getLazyProducts","product","push","getTemplate"],"mappings":";;;;;;;;;;MAKqBA,Y;;;AAMjB,4BAAc;AAAA;;AAAA,WAJPC,eAIO,GAJiD,UAAGC,eAAH,CAAmB,EAAnB,CAIjD;AAAA,WAHPC,QAGO,GAHY,uCAGZ;AACV,WAAKC,gBAAL,GAAwB,cAAxB;AACA,WAAKA,gBAAL,CACKC,aADL,GAEKC,IAFL,CAEU,YAAM;AACR,QAAA,KAAI,CAACC,gBAAL;AACP,OAJD;AAKH;AAED;;;;;;;WAGQA,gB,GAAR,4BAA2B;AACvB;AACA,2DAAoB,UAAcC,WAAd,GAA4BC,eAA5B,EAApB,wCAAmE;AAAA,YAA1DC,OAA0D;AAC/D,aAAKT,eAAL,CAAqBU,IAArB,CAA0B,aACtBD,OADsB,CAA1B;AAGH;AACJ;AAED;;;;;;;WAKOE,W,GAAP,uBAAqB;AACjB,aAAO,KAAKT,QAAZ;AACH,K","sourcesContent":["import DefaultProcessor from \"./products-list/model/processor/default\";\nimport ProductsState from \"./products-list/state/products\";\nimport ko from \"knockout\";\nimport ProductView from \"./products-list/view/product\";\n\nexport default class ProductsList\n{\n    public productsSection: KnockoutObservableArray<ProductView> = ko.observableArray([]);\n    public template: string = \"LB_NewStepCheckout/view/products-list\";\n    private defaultProcessor: DefaultProcessor;\n\n    constructor() {\n        this.defaultProcessor = new DefaultProcessor();\n        this.defaultProcessor\n            .fetchProducts()\n            .then(() => {\n                this.populateProducts();\n        });\n    }\n\n    /**\n     * Populate products to the Observable section\n     */\n    private populateProducts() {\n        // @ts-ignore The knockoutObservableArray has a [Symbol.iterator]() method\n        for (let product of ProductsState.getInstance().getLazyProducts()) {\n            this.productsSection.push(new ProductView(\n                product\n            ))\n        }\n    }\n\n    /**\n     * Get template.\n     *\n     * @returns {string}\n     */\n    public getTemplate() {\n        return this.template;\n    }\n}\n"],"file":"products-list.js"}