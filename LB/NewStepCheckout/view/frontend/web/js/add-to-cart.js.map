{"version":3,"sources":["../ts/js/add-to-cart.ts"],"names":["AddToCart","product","qtyValue","observable","maxQtyValue","minQtyValue","formKey","getFormKey","uenc","getUenc","formUrl","template","createAddToCartUrl","id","getTemplate","qtyValueInc","newValue","qtyValueDec"],"mappings":";;;MAKqBA,S;;;AAWjB,uBAAYC,OAAZ,EAA4C;AAAA,WARpCC,QAQoC,GARG,UAAGC,UAAH,CAAc,CAAd,CAQH;AAAA,WAPpCC,WAOoC,GAPM,UAAGD,UAAH,CAAc,EAAd,CAON;AAAA,WANpCE,WAMoC,GANM,UAAGF,UAAH,CAAc,CAAd,CAMN;AAAA,WALpCG,OAKoC,GALlB,gBAAeC,UAAf,EAKkB;AAAA,WAJpCC,IAIoC,GAJrB,gBAAeC,OAAf,EAIqB;AAAA,WAHpCC,OAGoC,GAHE,UAAGP,UAAH,CAAc,EAAd,CAGF;AAAA,WAFpCQ,QAEoC,GAFjB,qCAEiB;AACxC,WAAKV,OAAL,GAAeA,OAAf;AACA,WAAKS,OAAL,CAAa,YAAWE,kBAAX,CAA8BX,OAAO,CAACY,EAAtC,CAAb;AACH;AAED;;;;;;;;;WAKOC,W,GAAP,uBACA;AACI,aAAO,KAAKH,QAAZ;AACH;AAED;;;;;WAGQI,W,GAAR,uBACA;AACI,UAAIC,QAAQ,GAAG,KAAKd,QAAL,KAAkB,CAAjC;;AAEA,UAAI,CAAC,KAAKE,WAAN,IAAsB,KAAKA,WAAL,IAAoBY,QAAQ,IAAI,KAAKZ,WAAL,EAA1D,EAA+E;AAC3E,aAAKF,QAAL,CAAcc,QAAd;AACH;AACJ,K;;AAED;;;WAGQC,W,GAAR,uBACA;AACI,UAAID,QAAQ,GAAG,KAAKd,QAAL,KAAkB,CAAjC;;AACA,UAAIc,QAAQ,IAAI,KAAKX,WAAL,EAAhB,EAAoC;AAChC,aAAKH,QAAL,CAAcc,QAAd;AACH;AACJ,K","sourcesContent":["import ProductTypesInterface from \"./add-to-cart/types/product.types\";\nimport ko from \"knockout\";\nimport CheckoutConfig from './utils/checkout-config';\nimport UrlBuilder from \"./utils/url-builder\";\n\nexport default class AddToCart\n{\n    private product: ProductTypesInterface;\n    private qtyValue: KnockoutObservable<number> = ko.observable(1);\n    private maxQtyValue: KnockoutObservable<number> = ko.observable(10);\n    private minQtyValue: KnockoutObservable<number> = ko.observable(1);\n    private formKey: string = CheckoutConfig.getFormKey();\n    private uenc: string = CheckoutConfig.getUenc();\n    private formUrl: KnockoutObservable<string> = ko.observable('');\n    private template: string = \"LB_NewStepCheckout/view/add-to-cart\";\n\n    constructor(product: ProductTypesInterface) {\n        this.product = product;\n        this.formUrl(UrlBuilder.createAddToCartUrl(product.id));\n    }\n\n    /**\n     * Get template.\n     *\n     * @returns {string}\n     */\n    public getTemplate()\n    {\n        return this.template;\n    }\n\n    /**\n     * Updates value increased by 1\n     */\n    private qtyValueInc()\n    {\n        let newValue = this.qtyValue() + 1;\n\n        if (!this.maxQtyValue || (this.maxQtyValue && newValue <= this.maxQtyValue())) {\n            this.qtyValue(newValue);\n        }\n    };\n\n    /**\n     * Updates value decreased by 1\n     */\n    private qtyValueDec()\n    {\n        let newValue = this.qtyValue() - 1;\n        if (newValue >= this.minQtyValue()) {\n            this.qtyValue(newValue);\n        }\n    };\n}\n"],"file":"add-to-cart.js"}